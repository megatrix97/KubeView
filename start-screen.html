<html>

<head>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <script>
        const { ipcRenderer } = require('electron')
        document.addEventListener('keydown', (event) => {
            if (event.key === "Control") {
                console.log("Received Control click event")
                ipcRenderer.send('ctrlPressed');
            }
        });

        document.addEventListener('click', (event) => {
            // If the clicked element is not the input box, hide it
            searchBox = document.getElementById('search-box')
            if (!searchBox.contains(event.target)) {
                searchBox.style.opacity = '0';
                setTimeout(() => {
                    searchBox.style.display = 'none'
                }, 300)
            }
        })

        ipcRenderer.on('toggleSearchBarVisibility', () => {
            const searchBox = document.getElementById('search-box');
            if (searchBox.style.display === 'none') {
                searchBox.style.display = 'block'
                setTimeout(() => {
                    searchBox.style.opacity = '1'
                }, 10)
                searchBox.focus()
            } else if (searchBox.style.display === 'block') {
                searchBox.style.opacity = '0'
                setTimeout(() => {
                    searchBox.style.display = 'none'
                }, 300)
            }
        });
    </script>
</head>

<body>
    <div id="search-box-container">
        <input class="base-container-skeleton search-box-font-styles" id="search-box" type="text">
        <div id="search-suggestions-list"></div>
    </div>
    <div class="flex-container">
        <div class="menu-nav-bar">
            <ul>
                <li>
                    <a href="#">
                        <span class="material-symbols-outlined menu-item">
                            home
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="material-symbols-outlined menu-item">
                            workspaces
                        </span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="base-container">
            <div class="base-container-skeleton">
                <h1 style="color: white; position: absolute; top: 45% ; left: 45%;">KubeView</h1>
            </div>
        </div>
    </div>
</body>

</html>